/**
 * Super Admin Dashboard - Mobile First Responsive CSS
 * Ottimizzazioni specifiche per tutte le pagine Super Admin
 * - Dashboard principale
 * - Analytics
 * - Tenants
 * - Subscriptions
 * - Users
 */

/* ==============================================
   MOBILE FIRST BASE (0-767px)
   ============================================== */

/* Header Ottimizzazione Mobile */
@media (max-width: 768px) {
    /* Header con title e bottoni */
    .max-w-7xl > div:first-child {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 1rem;
    }

    .max-w-7xl > div:first-child > div:first-child h1 {
        font-size: 1.75rem !important; /* 28px invece di 40px */
        line-height: 1.2;
        margin-bottom: 0.5rem !important;
    }

    .max-w-7xl > div:first-child > div:first-child p {
        font-size: 0.875rem !important; /* 14px invece di 18px */
    }

    /* Bottoni header full-width su mobile */
    .max-w-7xl > div:first-child > div:last-child,
    .max-w-7xl > div:first-child > a {
        width: 100%;
    }

    .max-w-7xl > div:first-child > div:last-child a,
    .max-w-7xl > div:first-child > a {
        width: 100%;
        justify-content: center;
        padding: 0.875rem 1rem !important;
    }
}

/* ==============================================
   STAT CARDS OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Stats grid - Single column su mobile */
    .stat-card {
        padding: 1.25rem !important;
    }

    .stat-card .w-14 {
        width: 3rem !important;
        height: 3rem !important;
    }

    .stat-card .text-3xl {
        font-size: 1.5rem !important;
    }

    /* Numeri statistics più piccoli */
    .stat-card .text-5xl,
    .stat-number {
        font-size: 2.25rem !important; /* 36px invece di 48px */
    }

    /* Icone più piccole */
    .stat-card i.text-3xl {
        font-size: 1.5rem !important;
    }

    /* Secondary stats cards */
    .bg-white.rounded-2xl.shadow-lg .text-4xl {
        font-size: 2rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg .w-12 {
        width: 2.5rem !important;
        height: 2.5rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg .text-xl {
        font-size: 1rem !important;
    }
}

/* ==============================================
   SUBSCRIPTION DISTRIBUTION OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Distribuzione abbonamenti - mobile friendly */
    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .text-2xl {
        font-size: 1.5rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .text-sm.mt-1 {
        font-size: 0.75rem !important;
    }

    /* Cards distribuzione */
    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .grid.grid-cols-1.md\:grid-cols-3 > div {
        padding: 1rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .text-lg {
        font-size: 1rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .text-3xl {
        font-size: 1.75rem !important;
    }
}

/* ==============================================
   TABLES MOBILE OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Nascondi tabelle standard su mobile */
    .overflow-x-auto table {
        display: none;
    }

    /* Mostra versione card su mobile */
    .overflow-x-auto::after {
        content: '';
        display: block;
    }

    /* Table wrapper mobile */
    .overflow-x-auto {
        overflow-x: visible !important;
        border-radius: 0.75rem;
        border: none !important;
    }

    /* Recent Tenants Table - Card View */
    tbody tr {
        display: block;
        background: white;
        border-radius: 0.75rem;
        padding: 1rem;
        margin-bottom: 1rem;
        border: 1px solid #e5e7eb;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    tbody tr td {
        display: block;
        padding: 0.5rem 0 !important;
        border: none !important;
        text-align: left !important;
    }

    tbody tr td::before {
        content: attr(data-label);
        font-weight: 600;
        color: #6b7280;
        font-size: 0.75rem;
        text-transform: uppercase;
        display: block;
        margin-bottom: 0.25rem;
    }

    /* Prima cella (nome) più grande */
    tbody tr td:first-child {
        padding-bottom: 0.75rem !important;
        border-bottom: 1px solid #e5e7eb !important;
        margin-bottom: 0.75rem;
    }

    /* Azione button full-width */
    tbody tr td:last-child a {
        display: block;
        text-align: center;
        padding: 0.75rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 0.5rem;
        font-weight: 600;
        margin-top: 0.5rem;
    }
}

/* ==============================================
   ANALYTICS PAGE OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Time Range Selector */
    .time-button {
        flex: 1;
        min-width: 80px;
        font-size: 0.875rem !important;
        padding: 0.75rem 1rem !important;
    }

    /* Charts container */
    .chart-container {
        height: 250px !important; /* Più basso su mobile */
    }

    /* Chart cards */
    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100.p-6 {
        padding: 1rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 h2.text-2xl {
        font-size: 1.25rem !important;
    }

    .bg-white.rounded-2xl.shadow-lg.border.border-gray-100 .w-12 {
        width: 2.5rem !important;
        height: 2.5rem !important;
    }

    /* Analytics table mobile */
    .overflow-x-auto table thead {
        display: none; /* Nascondi header su mobile */
    }
}

/* ==============================================
   TENANTS PAGE OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Filters scroll orizzontale su mobile */
    .flex.items-center.flex-wrap {
        flex-wrap: nowrap !important;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 0.5rem;
    }

    .filter-btn {
        flex-shrink: 0;
        font-size: 0.875rem !important;
        padding: 0.625rem 1rem !important;
    }

    /* Tenant cards già responsive con grid */
    .tenant-card {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    }

    .tenant-card:hover {
        transform: none !important; /* Disabilita hover su mobile */
    }

    /* Card header tenant */
    .tenant-card > div:first-child {
        padding: 1.25rem !important;
    }

    .tenant-card .w-16 {
        width: 3.5rem !important;
        height: 3.5rem !important;
    }

    .tenant-card h3.text-2xl {
        font-size: 1.5rem !important;
    }

    /* Card body tenant */
    .tenant-card > div:last-child {
        padding: 1.25rem !important;
    }

    .tenant-card .grid.grid-cols-2 .text-2xl {
        font-size: 1.5rem !important;
    }
}

/* ==============================================
   QUICK ACTIONS CARDS OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Quick actions cards */
    .bg-gradient-to-br.text-white.rounded-2xl {
        padding: 1.25rem !important;
    }

    .bg-gradient-to-br.text-white.rounded-2xl:hover {
        transform: none !important; /* Disabilita scale su mobile */
    }

    .bg-gradient-to-br.text-white.rounded-2xl .w-14 {
        width: 3rem !important;
        height: 3rem !important;
    }

    .bg-gradient-to-br.text-white.rounded-2xl .text-3xl {
        font-size: 1.5rem !important;
    }

    .bg-gradient-to-br.text-white.rounded-2xl .text-2xl {
        font-size: 1.25rem !important;
    }

    .bg-gradient-to-br.text-white.rounded-2xl h3.text-xl {
        font-size: 1.125rem !important;
    }
}

/* ==============================================
   PAGINATION OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Pagination mobile friendly */
    .flex.items-center.justify-center.space-x-2 {
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
    }

    .flex.items-center.justify-center.space-x-2 a,
    .flex.items-center.justify-center.space-x-2 span {
        min-width: 2.5rem;
        padding: 0.5rem !important;
        font-size: 0.875rem;
    }
}

/* ==============================================
   EMPTY STATES OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Empty state */
    .text-center.py-16 {
        padding: 2rem 1rem !important;
    }

    .text-center .w-20,
    .text-center .w-24 {
        width: 4rem !important;
        height: 4rem !important;
    }

    .text-center .text-3xl,
    .text-center .text-4xl {
        font-size: 1.5rem !important;
    }

    .text-center h3.text-2xl {
        font-size: 1.25rem !important;
    }

    .text-center p.text-lg {
        font-size: 0.875rem !important;
    }
}

/* ==============================================
   TOUCH OPTIMIZATIONS
   ============================================== */

@media (max-width: 768px) {
    /* Tutti i link e bottoni touch-friendly (min 44px) */
    a, button {
        min-height: 44px;
        display: inline-flex;
        align-items: center;
    }

    /* Active state per feedback visivo */
    a:active, button:active {
        opacity: 0.7;
        transform: scale(0.98);
    }

    /* Cards touch feedback */
    .tenant-card:active,
    .stat-card:active,
    .bg-white.rounded-2xl:active {
        opacity: 0.95;
    }
}

/* ==============================================
   SPACING OPTIMIZATION
   ============================================== */

@media (max-width: 768px) {
    /* Riduci spacing generale */
    .space-y-8 {
        gap: 1.5rem !important;
    }

    .space-y-6 {
        gap: 1rem !important;
    }

    .gap-6 {
        gap: 1rem !important;
    }

    .gap-4 {
        gap: 0.75rem !important;
    }

    /* Padding container principale */
    .max-w-7xl {
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }

    /* Padding cards */
    .p-8 {
        padding: 1.25rem !important;
    }

    .p-6 {
        padding: 1rem !important;
    }

    /* Margin bottom */
    .mb-6 {
        margin-bottom: 1rem !important;
    }

    .mb-4 {
        margin-bottom: 0.75rem !important;
    }
}

/* ==============================================
   TYPOGRAPHY MOBILE
   ============================================== */

@media (max-width: 768px) {
    /* Headers */
    h1 {
        font-size: 1.75rem !important; /* 28px */
        line-height: 1.2 !important;
    }

    h2 {
        font-size: 1.25rem !important; /* 20px */
        line-height: 1.3 !important;
    }

    h3 {
        font-size: 1.125rem !important; /* 18px */
        line-height: 1.4 !important;
    }

    /* Body text */
    p {
        font-size: 0.875rem !important; /* 14px */
        line-height: 1.5 !important;
    }

    /* Small text */
    .text-sm {
        font-size: 0.75rem !important; /* 12px */
    }

    .text-xs {
        font-size: 0.6875rem !important; /* 11px */
    }
}

/* ==============================================
   SCROLLBAR MOBILE
   ============================================== */

@media (max-width: 768px) {
    /* Scrollbar più sottile su mobile */
    ::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }
}

/* ==============================================
   TABLET ADJUSTMENTS (768px - 1023px)
   ============================================== */

@media (min-width: 768px) and (max-width: 1023px) {
    /* Stats grid - 2 colonne su tablet */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Tenant cards - 2 colonne su tablet */
    .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Quick actions - 2 colonne su tablet */
    .grid.grid-cols-1.md\:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Charts - 1 colonna su tablet per più spazio */
    .grid.grid-cols-1.lg\:grid-cols-2 {
        grid-template-columns: repeat(1, 1fr) !important;
    }
}

/* ==============================================
   DESKTOP ENHANCEMENTS (1024px+)
   ============================================== */

@media (min-width: 1024px) {
    /* Hover effects solo su desktop */
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
    }

    .tenant-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .bg-gradient-to-br.text-white.rounded-2xl:hover {
        transform: scale(1.05);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    }

    /* Transizioni smooth */
    .stat-card,
    .tenant-card,
    .bg-gradient-to-br.text-white.rounded-2xl {
        transition: all 0.3s ease;
    }
}

/* ==============================================
   PRINT STYLES
   ============================================== */

@media print {
    /* Nascondi elementi non necessari per stampa */
    .filter-btn,
    button,
    .bg-gradient-to-br.text-white.rounded-2xl,
    .time-button {
        display: none !important;
    }

    /* Ottimizza layout per stampa */
    .stat-card {
        break-inside: avoid;
    }

    .tenant-card {
        break-inside: avoid;
        page-break-inside: avoid;
    }

    /* Rimuovi ombre per stampa */
    * {
        box-shadow: none !important;
        text-shadow: none !important;
    }
}

/* ==============================================
   ACCESSIBILITY ENHANCEMENTS
   ============================================== */

/* Focus visibile per navigazione keyboard */
a:focus,
button:focus,
.filter-btn:focus,
.time-button:focus {
    outline: 2px solid #667eea;
    outline-offset: 2px;
}

/* Riduci animazioni per chi preferisce reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .stat-card,
    .tenant-card,
    .bg-white.rounded-2xl {
        border: 2px solid currentColor;
    }
}

/* ==============================================
   LOADING STATES
   ============================================== */

@media (max-width: 768px) {
    /* Loading skeleton su mobile */
    .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s ease-in-out infinite;
    }

    @keyframes loading {
        0% {
            background-position: 200% 0;
        }
        100% {
            background-position: -200% 0;
        }
    }
}

/* ==============================================
   SAFE AREA INSETS (iPhone X+)
   ============================================== */

@media (max-width: 768px) {
    @supports (padding: max(0px)) {
        .max-w-7xl {
            padding-left: max(1rem, env(safe-area-inset-left)) !important;
            padding-right: max(1rem, env(safe-area-inset-right)) !important;
            padding-bottom: max(1rem, env(safe-area-inset-bottom)) !important;
        }
    }
}

/* ==============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================== */

/* Hardware acceleration per animazioni smooth */
.stat-card,
.tenant-card,
.bg-gradient-to-br {
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
}

/* Disabilita will-change dopo animazione per performance */
@media (prefers-reduced-motion: no-preference) {
    .stat-card:not(:hover),
    .tenant-card:not(:hover) {
        will-change: auto;
    }
}
